<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Demo 8</title>
    <!-- Reference CSS stylesheets -->
    <link rel="stylesheet" href="http://js.arcgis.com/3.14/dijit/themes/claro/claro.css">
    <link rel="stylesheet" href="http://js.arcgis.com/3.14/esri/css/esri.css">
    <!-- Apply local styles -->
    <style>
      html, body {
        height: 100%;
        width: 100%;
        margin: 0;
        padding: 0;
      }
      
      body {
        background-color: #feffff;
        overflow: hidden;
        font-family: "Trebuchet MS", "Tahoma", sans-serif;
        margin: 2%;
      }
      
      #mapContainer {
        width: 80%; 
        height: 80%; 
        margin: 5px
      }
      
      #map1, #map2, #map3 {
      }

    </style>
    <!-- Configure dojo for asynchronous module loading -->
    <script> var dojoConfig = { async: true, isDebug: true, parseOnLoad: true };</script>
    
	  <!-- Load the JS API from CDN -->
    <script src="http://js.arcgis.com/3.14/"></script>

	  <!-- Application code -->    
    <script>
      require([
        "esri/map",

        "dojo/parser",
        "dojo/ready",
        "dijit/layout/TabContainer", 
        "dijit/layout/ContentPane",
        
        "dojo/domReady!"
      ], function(
        Map,
        parser,
        ready
      ) {
      
        // parse DOM for Dojo dijits
        parser.parse();
      
        // Broken Code - Didn't run ready to give widgets time to setup
        // Note: delete comment before end of ready
        
        // ready( function() {
          // Create the maps
          var theTopoMap = new Map("map2", {
            basemap: "topo",
            center: [-122.8931, 47.0425],
            zoom: 12,
            logo: true
          });
        
          var theSatelliteMap = new Map("map3", {
            basemap: "satellite",
            center: [-122.8931, 47.0425],
            zoom: 12,
            logo: true
          });

          var theStreetsMap = new Map("map1", {
            basemap: "streets",
            center: [-122.8931, 47.0425],
            zoom: 12,
            logo: true
          });
        //}); // End of ready 

        });
    </script>
  </head>
  <body class="claro">
    <div id="mapContainer" data-dojo-type="dijit/layout/TabContainer">
      <div id="map1" data-dojo-type="dijit/layout/ContentPane" title="Streets"></div>
      <div id="map2" data-dojo-type="dijit/layout/ContentPane" title="Topo"></div>
      <div id="map3" data-dojo-type="dijit/layout/ContentPane" title="Satellite"></div>
    </div>
  </body>
</html>